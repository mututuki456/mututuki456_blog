---
interface Props {
  title: string;
  className?: string;
  open?: boolean; // 初期状態で開いておくかどうか
}

const { title, className = "", open = false } = Astro.props;
---

<details class={`group bg-yellow-50 border-l-4 border-accent drop-shadow-sm overflow-hidden ${className}`} open={open}>
  
  {/* --- ヘッダー（タイトル部分） --- */}
  <summary class="flex justify-between items-center cursor-pointer p-4 list-none text-gold font-bold text-lg select-none outline-none transition-colors group-open:bg-yellow-100/50">
    <h3>{title}</h3>
    
    {/* アイコン */}
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5 transition-transform duration-300 group-open:rotate-180 text-gray-400" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  </summary>

  {/* --- アニメーション用ラッパー --- */}
  <div class="grid grid-rows-[0fr] transition-[grid-template-rows] duration-300 ease-out group-open:grid-rows-[1fr]">
    <div class="overflow-hidden">
      {/* ここが重要: <slot /> の部分に
        親コンポーネントから渡された内容（タグリストなど）が入ります 
      */}
      <div class="p-4 pt-0">
        <slot />
      </div>
    </div>
  </div>
</details>